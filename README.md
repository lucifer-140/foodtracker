<div align="center">

# FoodTracker

### *Advanced Laravel Meal Tracking & Nutrition Analytics*

<img src="public/images/logo.png" width="200" alt="FoodTracker Logo" style="border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.1);">

---

[![Laravel](https://img.shields.io/badge/Laravel-11.x-FF2D20?style=for-the-badge&logo=laravel&logoColor=white)](https://laravel.com)
[![PHP](https://img.shields.io/badge/PHP-8.2+-777BB4?style=for-the-badge&logo=php&logoColor=white)](https://php.net)
[![Tailwind CSS](https://img.shields.io/badge/Tailwind-CSS-06B6D4?style=for-the-badge&logo=tailwindcss&logoColor=white)](https://tailwindcss.com)
[![Chart.js](https://img.shields.io/badge/Chart.js-FF6384?style=for-the-badge&logo=chart.js&logoColor=white)](https://chartjs.org)

[![License: MIT](https://img.shields.io/badge/License-MIT-00D4AA?style=for-the-badge)](https://opensource.org/licenses/MIT)
[![PRs Welcome](https://img.shields.io/badge/PRs-Welcome-00D4AA?style=for-the-badge)](http://makeapullrequest.com)
[![Maintenance](https://img.shields.io/badge/Maintained-Yes-00D4AA?style=for-the-badge)](https://github.com/your-username/foodtracker/graphs/commit-activity)

---

### **Transform Your Nutrition Journey with Smart Tracking**

*A modern, feature-rich web application that combines intelligent meal tracking, comprehensive nutrition analytics, and social connectivity to help you achieve your health goals.*

</div>


---

<div align="center">

## **Built with Modern Tech Stack**

| Frontend | Backend | Database | Tools |
|----------|---------|----------|-------|
| ![Tailwind CSS](https://img.shields.io/badge/-Tailwind_CSS-38B2AC?style=flat-square&logo=tailwind-css&logoColor=white) | ![Laravel](https://img.shields.io/badge/-Laravel-FF2D20?style=flat-square&logo=laravel&logoColor=white) | ![MySQL](https://img.shields.io/badge/-MySQL-4479A1?style=flat-square&logo=mysql&logoColor=white) | ![Vite](https://img.shields.io/badge/-Vite-646CFF?style=flat-square&logo=vite&logoColor=white) |
| ![Alpine.js](https://img.shields.io/badge/-Alpine.js-8BC34A?style=flat-square&logo=alpine.js&logoColor=white) | ![PHP 8.2+](https://img.shields.io/badge/-PHP_8.2+-777BB4?style=flat-square&logo=php&logoColor=white) | ![Redis](https://img.shields.io/badge/-Redis-DC382D?style=flat-square&logo=redis&logoColor=white) | ![Composer](https://img.shields.io/badge/-Composer-885630?style=flat-square&logo=composer&logoColor=white) |
| ![Chart.js](https://img.shields.io/badge/-Chart.js-FF6384?style=flat-square&logo=chart.js&logoColor=white) | ![Livewire](https://img.shields.io/badge/-Livewire-4E56A6?style=flat-square&logo=livewire&logoColor=white) | ![SQLite](https://img.shields.io/badge/-SQLite-003B57?style=flat-square&logo=sqlite&logoColor=white) | ![NPM](https://img.shields.io/badge/-NPM-CB3837?style=flat-square&logo=npm&logoColor=white) |

</div>

---
<div align="center">

## **Navigation Hub**

*Jump to any section quickly with our organized guide*

</div>

<div align="center">
<table>
<tr>
<td width="33%" align="center">

### **Getting Started**
[![About](https://img.shields.io/badge/ğŸ“–_About_The_Project-4A90E2?style=flat-square)](#about-the-project)  
[![Features](https://img.shields.io/badge/â­_Key_Features-7ED321?style=flat-square)](#key-features)  
[![Installation](https://img.shields.io/badge/âš¡_Quick_Install-F5A623?style=flat-square)](#installation)  
[![Usage](https://img.shields.io/badge/ğŸ’¡_Usage_Examples-BD10E0?style=flat-square)](#usage-examples)

</td>
<td width="33%" align="center">

### **Architecture**
[![Tech Stack](https://img.shields.io/badge/ğŸ”§_Technical_Architecture-50E3C2?style=flat-square)](#technical-architecture)  
[![Database](https://img.shields.io/badge/ğŸ—„ï¸_Database_Schema-4A90E2?style=flat-square)](#database-schema)  
[![Models](https://img.shields.io/badge/ğŸ”—_Model_Relationships-7ED321?style=flat-square)](#model-relationships)  
[![Structure](https://img.shields.io/badge/ğŸ“_Project_Structure-F5A623?style=flat-square)](#project-structure)

</td>
<td width="33%" align="center">

### **Advanced**
[![Nutrition](https://img.shields.io/badge/ğŸ§®_Nutrition_System-BD10E0?style=flat-square)](#nutrition-calculation-system)  
[![Routing](https://img.shields.io/badge/ğŸ›£ï¸_Routing_System-50E3C2?style=flat-square)](#routing-system)  
[![Deployment](https://img.shields.io/badge/ğŸš€_Deployment-4A90E2?style=flat-square)](#deployment)  
[![License](https://img.shields.io/badge/ğŸ“„_License-7ED321?style=flat-square)](#license)

</td>
</tr>
</table>
</div>

---

<details>
<summary><b>Detailed Navigation</b></summary>

<br>

| Section                                                     | Description |
|-------------------------------------------------------------|-------------|
| [About The Project](#about-the-project)                     | Project overview and goals |
| [Key Features](#key-features)                               | Core functionality highlights |
| [Technical Architecture](#technical-architecture)           | System design and components |
| [Nutrition Calculation System](#nutrition-calculation-system) | Advanced nutrition algorithms |
| [Database Schema](#database-schema)                         | Complete database structure |
| [Model Relationships](#model-relationships)                 | Laravel Eloquent relationships |
| [Project Structure](#project-structure)                     | File organization and patterns |
| [Routing System](#routing-system)                           | Route definitions and middleware |
| [Installation](#installation)                               | Step-by-step setup guide |
| [Usage Examples](#usage-examples)                           | Code examples and tutorials |
| [Deployment](#deployment)                                  | Production deployment guide |
| [License](#license)                                       | Legal information and terms |

</details>

---


## About The Project

FoodTracker is a sophisticated meal tracking application that goes beyond simple calorie counting. It provides users with detailed nutritional analysis, goal tracking, social features, and comprehensive reporting tools. Built with Laravel's robust architecture, it demonstrates advanced web development concepts including complex database relationships, real-time calculations, and social networking features.

### **Core Technologies Used:**
- **[Laravel 11.x](https://laravel.com/)** - PHP Framework
- **[Laravel Breeze](https://laravel.com/docs/starter-kits#laravel-breeze)** - Authentication
- **[Blade](https://laravel.com/docs/blade)** - Templating Engine
- **[Tailwind CSS](https://tailwindcss.com/)** - Styling Framework
- **Vanilla JavaScript** - Dynamic UI Components
- **MySQL** - Database
- **Chart.js** - Data Visualization

---

## Key Features

### **Meal Management**
- **Complete CRUD Operations** - Create, read, update, delete meals with full validation
- **Image Upload Support** - Add photos to meals with automatic storage management
- **Dynamic Ingredient System** - Add multiple ingredients with real-time nutrition calculation
- **Meal Archive** - Advanced filtering, searching, and sorting of meal history
- **CSV Export** - Export meal data with detailed ingredient information and nutrition breakdown

### **Advanced Nutrition Calculation**
- **Real-time Calculations** - Automatic nutrition totals as you add ingredients
- **Unit Conversion System** - Support for multiple measurement units (grams, cups, tablespoons, etc.)
- **Precision Tracking** - Accurate calculations based on ingredient quantities and units
- **Macro Distribution** - Detailed protein, carbs, and fat breakdowns with percentages

### **Comprehensive Reporting**
- **Weekly/Monthly Analytics** - Detailed nutrition trends and patterns over time
- **Goal Tracking** - Monitor progress against personal nutrition goals with visual indicators
- **Visual Charts** - Interactive charts showing calorie trends and macro distributions
- **Statistical Analysis** - Average daily intake, peak consumption days, goal achievement rates
- **Comparative Analysis** - Compare nutrition across different time periods

### **Goal Setting & Tracking**
- **Personalized Goals** - Set daily targets for calories, protein, carbs, and fat
- **Progress Monitoring** - Track goal achievement with visual progress bars
- **Achievement Analytics** - Detailed analysis of days on target, over target, and under target
- **Smart Recommendations** - Data-driven insights based on eating patterns

### **Social Features**
- **Friend System** - Send, accept, decline, and manage friend requests
- **Activity Feed** - View friends' meal activities and achievements in real-time
- **Profile Viewing** - Browse friends' meal histories, statistics, and streaks
- **Privacy Controls** - Secure friend-only access to personal meal data
- **User Discovery** - Find and connect with other users

### **User Experience**
- **Responsive Design** - Optimized for desktop, tablet, and mobile devices
- **Real-time Updates** - Dynamic content updates without page refreshes
- **Intuitive Interface** - Clean, modern design with excellent usability
- **Advanced Filtering** - Search and filter meals by date, calories, name, and ingredients
- **Pagination** - Efficient data loading with preserved filter states

---

## Technical Architecture

### **MVC Pattern Implementation**

#### **Controllers Overview:**

**1. DashboardController**
```php
// Displays comprehensive user dashboard
- Today's nutrition summary with goal progress
- Recent meals with calculated nutrition
- Daily totals from all meals
- Goal achievement indicators
```

**2. MealController**
```php
// Complete meal management system
- CRUD operations with authorization policies
- Real-time nutrition calculations
- Advanced filtering (search, date range, calorie range)
- CSV export with detailed ingredient breakdown
- Image upload and storage management
```

**3. ReportController**
```php
// Advanced analytics and reporting
- Weekly/monthly nutrition trends
- Statistical analysis and goal tracking
- Visual chart data preparation
- Macro distribution calculations
- Comparative period analysis
```

**4. GoalController**
```php
// User goal management
- Goal creation and updates
- Progress tracking integration
- Nutrition target management
```

**5. FriendshipController**
```php
// Social networking features
- Friend request management (send/accept/decline)
- User discovery and search
- Profile viewing with privacy controls
- Friend statistics and streaks
```

**6. FeedController**
```php
// Social activity feed
- Friends' meal activities
- Real-time nutrition calculations for feed items
- Friend meal viewing with authorization
```

**7. ProfileController**
```php
// User profile management
- Profile updates with avatar support
- Account management and deletion
- Image storage handling
```

---

## Nutrition Calculation System

### **How It Works**

The nutrition calculation system is the core of FoodTracker, providing accurate nutritional information based on ingredient quantities and measurement units.

#### **1. Base Ingredient Data Structure**
```php
// Ingredients store nutrition per 100g for standardization
class Ingredient extends Model {
    protected $fillable = [
        'name',                 // e.g., "Chicken Breast"
        'calories_per_100g',    // e.g., 165
        'protein_per_100g',     // e.g., 31.0
        'fat_per_100g',         // e.g., 3.6
        'carbs_per_100g',       // e.g., 0.0
    ];
}
```

#### **2. Unit Conversion System**
```php
// Units table with conversion factors to grams
class Unit extends Model {
    protected $fillable = [
        'name',               // e.g., "cup", "tablespoon", "gram"
        'abbreviation',       // e.g., "c", "tbsp", "g"
        'conversion_factor'   // e.g., 240.0, 15.0, 1.0
    ];
}

// Example units:
$units = [
    ['name' => 'gram', 'conversion_factor' => 1.0],
    ['name' => 'kilogram', 'conversion_factor' => 1000.0],
    ['name' => 'cup', 'conversion_factor' => 240.0],
    ['name' => 'tablespoon', 'conversion_factor' => 15.0],
    ['name' => 'teaspoon', 'conversion_factor' => 5.0],
    ['name' => 'ounce', 'conversion_factor' => 28.35]
];
```

#### **3. Real-time Calculation Process**
```php
// Step-by-step calculation for each meal
foreach ($meal->ingredients as $ingredient) {
    // Get user-specified quantity and unit
    $quantity = $ingredient->pivot->quantity;     // e.g., 2
    $unitId = $ingredient->pivot->unit_id;        // e.g., cup

    // Convert to grams for standardization
    $conversionFactor = $units[$unitId]->conversion_factor; // 240.0
    $quantityInGrams = $quantity * $conversionFactor;       // 2 * 240 = 480g
    
    // Calculate nutrition based on per-100g values
    $calories = ($ingredient->calories_per_100g / 100) * $quantityInGrams;
    $protein = ($ingredient->protein_per_100g / 100) * $quantityInGrams;
    $fat = ($ingredient->fat_per_100g / 100) * $quantityInGrams;
    $carbs = ($ingredient->carbs_per_100g / 100) * $quantityInGrams;
    
    // Add to meal totals
    $total['calories'] += $calories;
    $total['protein'] += $protein;
    $total['fat'] += $fat;
    $total['carbs'] += $carbs;
}
```

#### **4. Practical Calculation Example**
**Meal: Chicken Salad Bowl**
```php
Ingredients:
- 200g Chicken Breast (165 cal/100g, 31g protein/100g, 3.6g fat/100g, 0g carbs/100g)
- 1 cup Mixed Greens (23 cal/100g, 2.9g protein/100g, 0.4g fat/100g, 4.6g carbs/100g)
- 2 tbsp Olive Oil (884 cal/100g, 0g protein/100g, 100g fat/100g, 0g carbs/100g)

Calculations:
Chicken: (165/100) * 200 = 330 calories, (31/100) * 200 = 62g protein
Greens: (23/100) * 240 = 55.2 calories, (2.9/100) * 240 = 6.96g protein  
Oil: (884/100) * 30 = 265.2 calories, (0/100) * 30 = 0g protein

Total: 650.4 calories, 68.96g protein, 30.96g fat, 11.04g carbs
```

#### **5. Advanced Features**
- **Precision Rounding**: Nutritional values rounded to appropriate decimal places
- **Goal Comparison**: Real-time comparison against user's daily goals
- **Macro Ratios**: Automatic calculation of protein/carb/fat percentages
- **Calorie Density**: Analysis of calorie density per ingredient

---

## Database Schema

### **Entity-Relationship Diagram**
<p align="center">
  <img src="public/images/erd.png" width="600" alt="Database ERD">
</p>

### **Core Tables**

#### **users**
```sql
CREATE TABLE users (
    id BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(255) NOT NULL,
    email VARCHAR(255) UNIQUE NOT NULL,
    email_verified_at TIMESTAMP NULL,
    password VARCHAR(255) NOT NULL,
    avatar VARCHAR(255) NULL,
    remember_token VARCHAR(100) NULL,
    created_at TIMESTAMP NULL,
    updated_at TIMESTAMP NULL
);
```

#### **meals**
```sql
CREATE TABLE meals (
    id BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
    user_id BIGINT UNSIGNED NOT NULL,
    name VARCHAR(255) NOT NULL,
    image_path VARCHAR(255) NULL,
    created_at TIMESTAMP NULL,
    updated_at TIMESTAMP NULL,
    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE
);
```

#### **ingredients**
```sql
CREATE TABLE ingredients (
    id BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(255) NOT NULL,
    calories_per_100g DECIMAL(8,2) NOT NULL,
    protein_per_100g DECIMAL(8,2) NOT NULL,
    fat_per_100g DECIMAL(8,2) NOT NULL,
    carbs_per_100g DECIMAL(8,2) NOT NULL,
    created_at TIMESTAMP NULL,
    updated_at TIMESTAMP NULL
);
```

#### **units**
```sql
CREATE TABLE units (
    id BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(255) NOT NULL,
    abbreviation VARCHAR(10) NULL,
    conversion_factor DECIMAL(10,4) NOT NULL DEFAULT 1.0000,
    created_at TIMESTAMP NULL,
    updated_at TIMESTAMP NULL
);
```

#### **ingredient_meal (Pivot Table)**
```sql
CREATE TABLE ingredient_meal (
    id BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
    meal_id BIGINT UNSIGNED NOT NULL,
    ingredient_id BIGINT UNSIGNED NOT NULL,
    quantity DECIMAL(8,2) NOT NULL,
    unit_id BIGINT UNSIGNED NOT NULL,
    created_at TIMESTAMP NULL,
    updated_at TIMESTAMP NULL,
    FOREIGN KEY (meal_id) REFERENCES meals(id) ON DELETE CASCADE,
    FOREIGN KEY (ingredient_id) REFERENCES ingredients(id) ON DELETE CASCADE,
    FOREIGN KEY (unit_id) REFERENCES units(id) ON DELETE CASCADE
);
```

#### **goals**
```sql
CREATE TABLE goals (
    id BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
    user_id BIGINT UNSIGNED NOT NULL,
    daily_calories INTEGER NULL,
    daily_protein INTEGER NULL,
    daily_fat INTEGER NULL,
    daily_carbs INTEGER NULL,
    created_at TIMESTAMP NULL,
    updated_at TIMESTAMP NULL,
    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE
);
```

#### **friendships**
```sql
CREATE TABLE friendships (
    id BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
    requester_id BIGINT UNSIGNED NOT NULL,
    addressee_id BIGINT UNSIGNED NOT NULL,
    status TINYINT NOT NULL DEFAULT 0, -- 0=pending, 1=accepted
    created_at TIMESTAMP NULL,
    updated_at TIMESTAMP NULL,
    FOREIGN KEY (requester_id) REFERENCES users(id) ON DELETE CASCADE,
    FOREIGN KEY (addressee_id) REFERENCES users(id) ON DELETE CASCADE
);
```

---

## Model Relationships

### **User Model Relationships**
```php
class User extends Authenticatable {
    // One-to-Many: User has many meals
    public function meals(): HasMany {
        return $this->hasMany(Meal::class);
    }

    // One-to-One: User has one goal
    public function goal(): HasOne {
        return $this->hasOne(Goal::class);
    }
    
    // Many-to-Many: Complex friendship relationships
    public function friendRequestsFrom() {
        return $this->belongsToMany(User::class, 'friendships', 'addressee_id', 'requester_id')
            ->wherePivot('status', 0)->withTimestamps();
    }
    
    public function friendsOfMine() {
        return $this->belongsToMany(User::class, 'friendships', 'requester_id', 'addressee_id')
            ->wherePivot('status', 1)->withTimestamps();
    }
    
    public function friendOf() {
        return $this->belongsToMany(User::class, 'friendships', 'addressee_id', 'requester_id')
            ->wherePivot('status', 1)->withTimestamps();
    }
    
    // Accessor: Get all friends (merged from both directions)
    public function getFriendsAttribute() {
        return $this->friendsOfMine->merge($this->friendOf);
    }
}
```

### **Meal Model Relationships**
```php
class Meal extends Model {
    // Belongs to User
    public function user(): BelongsTo {
        return $this->belongsTo(User::class);
    }

    // Many-to-Many with Ingredients (with pivot data)
    public function ingredients(): BelongsToMany {
        return $this->belongsToMany(Ingredient::class, 'ingredient_meal')
            ->withPivot('quantity', 'unit_id')
            ->withTimestamps();
    }
}
```

### **Ingredient Model Relationships**
```php
class Ingredient extends Model {
    // Many-to-Many with Meals (with pivot data)
    public function meals(): BelongsToMany {
        return $this->belongsToMany(Meal::class, 'ingredient_meal')
            ->withPivot('quantity', 'unit_id')
            ->withTimestamps();
    }
}
```

### **Goal Model Relationships**
```php
class Goal extends Model {
    // Belongs to User
    public function user(): BelongsTo {
        return $this->belongsTo(User::class);
    }
}
```

---

## Project Structure

### **Complete Directory Structure**

```
foodtracker/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ Http/
â”‚   â”‚   â”œâ”€â”€ Controllers/
â”‚   â”‚   â”‚   â”œâ”€â”€ Controller.php
â”‚   â”‚   â”‚   â”œâ”€â”€ DashboardController.php
â”‚   â”‚   â”‚   â”œâ”€â”€ FeedController.php
â”‚   â”‚   â”‚   â”œâ”€â”€ FriendshipController.php
â”‚   â”‚   â”‚   â”œâ”€â”€ GoalController.php
â”‚   â”‚   â”‚   â”œâ”€â”€ MealController.php
â”‚   â”‚   â”‚   â”œâ”€â”€ ProfileController.php
â”‚   â”‚   â”‚   â”œâ”€â”€ ReportController.php
â”‚   â”‚   â”‚   â””â”€â”€ Auth/
â”‚   â”‚   â”‚       â”œâ”€â”€ AuthenticatedSessionController.php
â”‚   â”‚   â”‚       â”œâ”€â”€ RegisteredUserController.php
â”‚   â”‚   â”‚       â””â”€â”€ [8 other auth controllers]
â”‚   â”‚   â””â”€â”€ Requests/
â”‚   â”‚       â”œâ”€â”€ ProfileUpdateRequest.php
â”‚   â”‚       â””â”€â”€ Auth/
â”‚   â”‚           â””â”€â”€ LoginRequest.php
â”‚   â”œâ”€â”€ Models/
â”‚   â”‚   â”œâ”€â”€ Friendship.php
â”‚   â”‚   â”œâ”€â”€ Goal.php
â”‚   â”‚   â”œâ”€â”€ Ingredient.php
â”‚   â”‚   â”œâ”€â”€ Meal.php
â”‚   â”‚   â”œâ”€â”€ Unit.php
â”‚   â”‚   â””â”€â”€ User.php
â”‚   â”œâ”€â”€ Policies/
â”‚   â”‚   â””â”€â”€ MealPolicy.php
â”‚   â”œâ”€â”€ Providers/
â”‚   â”‚   â””â”€â”€ AppServiceProvider.php
â”‚   â””â”€â”€ View/
â”‚       â””â”€â”€ Components/
â”‚           â”œâ”€â”€ AppLayout.php
â”‚           â””â”€â”€ GuestLayout.php
â”œâ”€â”€ resources/
â”‚   â”œâ”€â”€ css/
â”‚   â”‚   â””â”€â”€ app.css
â”‚   â”œâ”€â”€ js/
â”‚   â”‚   â”œâ”€â”€ app.js
â”‚   â”‚   â””â”€â”€ bootstrap.js
â”‚   â””â”€â”€ views/
â”‚       â”œâ”€â”€ dashboard.blade.php
â”‚       â”œâ”€â”€ welcome.blade.php
â”‚       â”œâ”€â”€ auth/
â”‚       â”‚   â”œâ”€â”€ login.blade.php
â”‚       â”‚   â”œâ”€â”€ register.blade.php
â”‚       â”‚   â””â”€â”€ [4 other auth views]
â”‚       â”œâ”€â”€ components/
â”‚       â”‚   â”œâ”€â”€ application-logo.blade.php
â”‚       â”‚   â”œâ”€â”€ primary-button.blade.php
â”‚       â”‚   â””â”€â”€ [10 other UI components]
â”‚       â”œâ”€â”€ feed/
â”‚       â”‚   â”œâ”€â”€ index.blade.php
â”‚       â”‚   â””â”€â”€ show-meal.blade.php
â”‚       â”œâ”€â”€ friends/
â”‚       â”‚   â””â”€â”€ index.blade.php
â”‚       â”œâ”€â”€ goals/
â”‚       â”‚   â””â”€â”€ edit.blade.php
â”‚       â”œâ”€â”€ layouts/
â”‚       â”‚   â”œâ”€â”€ app.blade.php
â”‚       â”‚   â”œâ”€â”€ guest.blade.php
â”‚       â”‚   â””â”€â”€ navigation.blade.php
â”‚       â”œâ”€â”€ meals/
â”‚       â”‚   â”œâ”€â”€ archive.blade.php
â”‚       â”‚   â”œâ”€â”€ create.blade.php
â”‚       â”‚   â”œâ”€â”€ edit.blade.php
â”‚       â”‚   â””â”€â”€ show.blade.php
â”‚       â”œâ”€â”€ profile/
â”‚       â”‚   â”œâ”€â”€ edit.blade.php
â”‚       â”‚   â””â”€â”€ partials/
â”‚       â”‚       â”œâ”€â”€ delete-user-form.blade.php
â”‚       â”‚       â”œâ”€â”€ update-password-form.blade.php
â”‚       â”‚       â””â”€â”€ update-profile-information-form.blade.php
â”‚       â”œâ”€â”€ reports/
â”‚       â”‚   â””â”€â”€ index.blade.php
â”‚       â””â”€â”€ users/
â”‚           â”œâ”€â”€ index.blade.php
â”‚           â””â”€â”€ show-profile.blade.php
â”œâ”€â”€ database/
â”‚   â”œâ”€â”€ factories/
â”‚   â”‚   â”œâ”€â”€ GoalFactory.php
â”‚   â”‚   â”œâ”€â”€ MealFactory.php
â”‚   â”‚   â””â”€â”€ UserFactory.php
â”‚   â”œâ”€â”€ migrations/
â”‚   â”‚   â”œâ”€â”€ 0001_01_01_000000_create_users_table.php
â”‚   â”‚   â”œâ”€â”€ 0001_01_01_000001_create_cache_table.php
â”‚   â”‚   â”œâ”€â”€ 0001_01_01_000002_create_jobs_table.php
â”‚   â”‚   â”œâ”€â”€ 2025_06_14_050256_create_meals_table.php
â”‚   â”‚   â”œâ”€â”€ 2025_06_14_050312_create_ingredients_table.php
â”‚   â”‚   â”œâ”€â”€ 2025_06_14_050334_create_units_table.php
â”‚   â”‚   â”œâ”€â”€ 2025_06_14_050348_create_ingredient_meal_table.php
â”‚   â”‚   â”œâ”€â”€ 2025_06_18_040526_add_conversion_factor_to_units_table.php
â”‚   â”‚   â”œâ”€â”€ 2025_06_18_074357_create_friendships_table.php
â”‚   â”‚   â”œâ”€â”€ 2025_06_19_074744_add_avatar_to_users_table.php
â”‚   â”‚   â””â”€â”€ 2025_06_23_042134_create_goals_table.php
â”‚   â””â”€â”€ seeders/
â”‚       â”œâ”€â”€ DatabaseSeeder.php
â”‚       â”œâ”€â”€ IngredientSeeder.php
â”‚       â””â”€â”€ UnitSeeder.php
â”œâ”€â”€ routes/
â”‚   â”œâ”€â”€ auth.php
â”‚   â”œâ”€â”€ console.php
â”‚   â””â”€â”€ web.php
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ index.php
â”‚   â”œâ”€â”€ .htaccess
â”‚   â”œâ”€â”€ favicon.ico
â”‚   â”œâ”€â”€ robots.txt
â”‚   â”œâ”€â”€ build/
â”‚   â”‚   â”œâ”€â”€ manifest.json
â”‚   â”‚   â””â”€â”€ assets/
â”‚   â”‚       â”œâ”€â”€ app-B4Qi55n8.css
â”‚   â”‚       â””â”€â”€ app-Bf4POITK.js
â”‚   â”œâ”€â”€ images/
â”‚   â”‚   â”œâ”€â”€ erd.png
â”‚   â”‚   â””â”€â”€ logo.png
â”‚   â””â”€â”€ storage/
â”‚       â””â”€â”€ meal-images/
â”‚           â””â”€â”€ [300+ meal images]
â””â”€â”€ config/
    â”œâ”€â”€ app.php
    â”œâ”€â”€ auth.php
    â”œâ”€â”€ cache.php
    â”œâ”€â”€ database.php
    â”œâ”€â”€ filesystems.php
    â”œâ”€â”€ logging.php
    â”œâ”€â”€ mail.php
    â”œâ”€â”€ queue.php
    â”œâ”€â”€ services.php
    â””â”€â”€ session.php
```

### **Key Architecture Highlights**

#### **Controllers (7 Main + 9 Auth)**
- **Main Controllers**: Handle core application logic
- **Auth Controllers**: Laravel Breeze authentication system
- **Request Classes**: Form validation and data handling

#### **Models (6 Core Models)**
- **User**: Central user management with complex relationships
- **Meal**: Core meal entity with ingredient relationships
- **Ingredient**: Master ingredient database
- **Unit**: Measurement units with conversion factors
- **Goal**: User nutrition goals
- **Friendship**: Social networking relationships

#### **Views (40+ Blade Templates)**
- **Layouts**: App and guest layouts with navigation
- **Components**: Reusable UI components
- **Feature Views**: Organized by functionality (meals, reports, social)
- **Auth Views**: Complete authentication flow

#### **Database (11 Migrations + 3 Seeders)**
- **Core Tables**: Users, meals, ingredients, units
- **Relationship Tables**: Pivot tables for many-to-many relationships
- **Feature Tables**: Goals, friendships, caching
- **Seeders**: Pre-populate ingredients and units

---

## Routing System

### **Complete Route Structure**

```php
<?php
// routes/web.php

use App\Http\Controllers\ProfileController;
use App\Http\Controllers\MealController;
use App\Http\Controllers\DashboardController;
use App\Http\Controllers\ReportController;
use App\Http\Controllers\GoalController;
use App\Http\Controllers\FriendshipController;
use App\Http\Controllers\FeedController;
use Illuminate\Support\Facades\Route;

// Public Routes
Route::get('/', function () {
    return view('welcome');
});

// Authenticated Dashboard
Route::get('/dashboard', [DashboardController::class, 'index'])
    ->middleware(['auth', 'verified'])
    ->name('dashboard');

// Protected Routes Group
Route::middleware('auth')->group(function () {
    
    // Profile Management
    Route::get('/profile', [ProfileController::class, 'edit'])->name('profile.edit');
    Route::patch('/profile', [ProfileController::class, 'update'])->name('profile.update');
    Route::delete('/profile', [ProfileController::class, 'destroy'])->name('profile.destroy');
    
    // Meal Management (RESTful + Custom)
    Route::get('/meals/create', [MealController::class, 'create'])->name('meals.create');
    Route::post('/meals', [MealController::class, 'store'])->name('meals.store');
    Route::get('/meals/{meal}', [MealController::class, 'show'])->name('meals.show');
    Route::delete('/meals/{meal}', [MealController::class, 'destroy'])->name('meals.destroy');
    Route::get('/meals/{meal}/edit', [MealController::class, 'edit'])->name('meals.edit');
    Route::put('/meals/{meal}', [MealController::class, 'update'])->name('meals.update');
    
    // Custom Meal Routes
    Route::get('/meal-archive', [MealController::class, 'archive'])->name('meals.archive');
    
    // Goal Management
    Route::get('/goals', [GoalController::class, 'edit'])->name('goals.edit');
    Route::post('/goals', [GoalController::class, 'update'])->name('goals.update');
    
    // Reports & Analytics
    Route::get('/reports', [ReportController::class, 'index'])->name('reports.index');
    Route::get('/reports/export', [ReportController::class, 'export'])->name('reports.export');
    
    // User Discovery & Social
    Route::get('/users', [FriendshipController::class, 'indexUsers'])->name('users.index');
    Route::get('/users/{user}', [FriendshipController::class, 'showUserProfile'])->name('users.show');
    
    // Friend Management (Grouped Routes)
    Route::prefix('friends')->name('friends.')->group(function () {
        Route::get('/', [FriendshipController::class, 'index'])->name('index');
        Route::post('/add/{user}', [FriendshipController::class, 'sendRequest'])->name('add');
        Route::post('/accept/{user}', [FriendshipController::class, 'acceptRequest'])->name('accept');
        Route::post('/decline/{user}', [FriendshipController::class, 'declineRequest'])->name('decline');
        Route::delete('/remove/{user}', [FriendshipController::class, 'removeFriend'])->name('remove');
    });
    
    // Social Feed
    Route::get('/feed', [FeedController::class, 'index'])->name('feed.index');
    Route::get('/friends/meals/{meal}', [FeedController::class, 'showFriendMeal'])->name('friends.meals.show');
});

// Authentication Routes (Laravel Breeze)
require __DIR__.'/auth.php';
```

### **Route Patterns Explained**

#### **RESTful Resource Patterns**
```php
// Standard REST operations for meals
GET    /meals/create     â†’ meals.create    (Show create form)
POST   /meals           â†’ meals.store     (Store new meal)
GET    /meals/{meal}    â†’ meals.show      (Show specific meal)
GET    /meals/{meal}/edit â†’ meals.edit    (Show edit form)
PUT    /meals/{meal}    â†’ meals.update    (Update meal)
DELETE /meals/{meal}    â†’ meals.destroy   (Delete meal)
```

#### **Custom Action Routes**
```php
// Non-standard actions for specific functionality
GET /meal-archive       â†’ meals.archive   (Advanced filtering)
GET /reports           â†’ reports.index    (Analytics dashboard)
GET /feed              â†’ feed.index       (Social activity)
```

#### **Grouped Routes with Prefixes**
```php
// Friend management with consistent naming
Route::prefix('friends')->name('friends.')->group(function () {
    // Results in routes like: friends.add, friends.accept, etc.
});
```

#### **Route Model Binding**
```php
// Automatic model injection
public function show(Meal $meal) {
    // Laravel automatically finds meal by ID and injects model
    // Also applies authorization policies automatically
}
```

#### **Middleware Protection**
```php
// All routes protected by authentication
Route::middleware('auth')->group(function () {
    // Routes here require user to be logged in
});
```

---

## Installation

### **Prerequisites**
- **PHP >= 8.2**
- **Composer**
- **Node.js & NPM**
- **MySQL/PostgreSQL**
- **Git**

### **Step-by-Step Installation**

1. **Clone the Repository**
   ```bash
   git clone https://github.com/lucifer-140/foodtracker.git
   cd foodtracker
   ```

2. **Install PHP Dependencies**
   ```bash
   composer install
   ```

3. **Install Node Dependencies**
   ```bash
   npm install
   ```

4. **Environment Configuration**
   ```bash
   cp .env.example .env
   php artisan key:generate
   ```

5. **Database Configuration**
   ```env
   DB_CONNECTION=mysql
   DB_HOST=127.0.0.1
   DB_PORT=3306
   DB_DATABASE=foodtracker
   DB_USERNAME=your_username
   DB_PASSWORD=your_password
   ```

6. **Database Setup**
   ```bash
   # Create database first, then run:
   php artisan migrate:fresh --seed
   ```

7. **Storage Setup**
   ```bash
   php artisan storage:link
   ```

8. **Asset Compilation**
   ```bash
   npm run dev
   # or for production:
   npm run build
   ```

9. **Start Development Server**
   ```bash
   php artisan serve
   ```

Visit `http://127.0.0.1:8000` to access the application.

---
## Usage Examples

### **Creating a Meal with Nutrition Calculation**

```php
// 1. User adds ingredients through the form
$mealData = [
    'name' => 'Protein Breakfast Bowl',
    'ingredients' => [
        ['id' => 15, 'quantity' => 100, 'unit_id' => 1], // 100g oats
        ['id' => 23, 'quantity' => 1, 'unit_id' => 3],   // 1 cup milk
        ['id' => 45, 'quantity' => 50, 'unit_id' => 1],  // 50g berries
        ['id' => 67, 'quantity' => 2, 'unit_id' => 5]    // 2 tbsp honey
    ]
];

// 2. System automatically calculates nutrition
$totalNutrition = [
    'calories' => 0, 'protein' => 0, 'fat' => 0, 'carbs' => 0
];

foreach ($ingredients as $ingredient) {
    $grams = $ingredient['quantity'] * $units[$ingredient['unit_id']]->conversion_factor;
    $totalNutrition['calories'] += ($ingredient->calories_per_100g / 100) * $grams;
    // ... similar for protein, fat, carbs
}

// Result: Automatic nutrition totals displayed to user
```

### **Advanced Meal Filtering**

```php
// Filter meals by multiple criteria
$query = auth()->user()->meals()->with('ingredients');

// Search by name
if ($request->filled('search')) {
    $query->where('name', 'LIKE', '%' . $request->search . '%');
}

// Date range filtering
if ($request->filled('date_from')) {
    $query->whereDate('created_at', '>=', $request->date_from);
}

// Calorie range filtering (after nutrition calculation)
$meals = $query->paginate(15);
if ($request->filled('calorie_range')) {
    $meals = $meals->filter(function ($meal) use ($request) {
        return $meal->calories >= $minCalories && $meal->calories <= $maxCalories;
    });
}
```

### **Social Features Implementation**

```php
// Send friend request
public function sendRequest(User $user) {
    // Prevent self-friendship and duplicate requests
    if ($user->id === auth()->id() || auth()->user()->getFriendship($user)) {
        return back()->with('error', 'Cannot send friend request');
    }
    
    Friendship::create([
        'requester_id' => auth()->id(),
        'addressee_id' => $user->id,
        'status' => 0 // pending
    ]);
}

// View friend's profile with privacy check
public function showUserProfile(User $user) {
    if (!auth()->user()->friends->contains($user)) {
        abort(403, 'You can only view friends\' profiles');
    }
    
    // Calculate friend's statistics
    $meals = $user->meals()->with('ingredients')->latest()->paginate(9);
    // ... nutrition calculations for each meal
}
```

---

## Deployment

### **Production Deployment**

```bash
# 1. Server setup
composer install --optimize-autoloader --no-dev
npm run build

# 2. Environment configuration
php artisan config:cache
php artisan route:cache
php artisan view:cache

# 3. Database migration
php artisan migrate --force

# 4. Storage permissions
php artisan storage:link
chmod -R 755 storage bootstrap/cache
```

### **Environment Variables for Production**

```env
APP_ENV=production
APP_DEBUG=false
APP_URL=https://your-domain.com

DB_CONNECTION=mysql
DB_HOST=your-db-host
DB_DATABASE=your-db-name
DB_USERNAME=your-db-user
DB_PASSWORD=your-secure-password

MAIL_MAILER=smtp
MAIL_HOST=your-smtp-host
MAIL_PORT=587
MAIL_USERNAME=your-email
MAIL_PASSWORD=your-email-password
```

---

## License

This project is open-sourced software licensed under the [MIT License](LICENSE).

```
MIT License

Copyright (c) 2025 FoodTracker

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.
```

---

## Acknowledgments

- **Laravel Team**: For the incredible framework
- **Tailwind CSS**: For the utility-first CSS framework
- **Chart.js**: For beautiful data visualizations
- **USDA Food Database**: For comprehensive nutritional data
- **Open Source Community**: For inspiration and contributions


